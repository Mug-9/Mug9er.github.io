---
title: Linux系统管理
categories: [Linux 学习笔记]
tags: [Linux 系统管理]
abbrlink: 6c72ecbc
date: 2021-04-27 22:51:51
img: https://cdn.jsdelivr.net/gh/Mug-9/imge-stroage@master/cover/wallhaven-k7838q.3out18s1n7y0.jpg
---

Linux系统管理

<!-- less-->

# Linux系统管理

## 日历 `cal`

`cal`命令用户查看当前日历，`-y`显示整年日历



## 显示或设置时间`date`

设置时间格式

```shell
 date [MMDDhhmm[CC]YY][.ss] + format
```

`CC`为年的前两位`yy`为年的后两位，前两为的`mm`为月，后两位的`mm`为分钟，`dd`为天，`hh`为小时，`ss`为秒

## 查看进程信息 `ps`

进程是一个具有一定独立功能的程序，它是操作系统动态执行的基本单元，

`ps`命令可以查看进程的详细状况，常用选项（选项可以不加`-`）

| 进程 |                  含义                  |
| :--: | :------------------------------------: |
| `-a` | 显示终端上所有进程，包括其他用户的进程 |
| `-u` |           显示进程的详细状态           |
| `-x` |         显示没有控制终端的进程         |
| `-w` |      显示加宽，一边显示更多的信息      |
| `-r` |          只显示正在运行的进程          |

## 动态显示进程 `top`

`top`命令用来动态显示运行中的进程，`top`命令能够在运行后，在指定时间间隔更新显示信息，可以在使用`top`命令时加上`-d<interval>`来指定显示信息更新时间间隔。

在`top`命令执行后，可以按下按年得到对显示结果进行排序

| 按键 |                含义                |
| :--: | :--------------------------------: |
| `M`  |        根据内存使用量来排序        |
| `P`  |       根据`CPU`占有率来排序        |
| `T`  |    根据进程运行时间的长短来排序    |
| `U`  | 可以根据后面输入的用户名来筛选进程 |
| `K`  | 可以根据后面输入的`PID`来杀死进程  |

## 结束进程 `KILL`

`kill`命令指定进程号的进程，需要配合`ps`使用

```shell
kill [-signal] pid
```

信号值从0到15，其中9为绝对终止，可以处理一般信号无法终止的进程。

## 后台程序 `&、jobs、fg`

- 用户可以将一个前台执行的程序调入后台执行，方法为：`命令 &`
- 如果程序已经在执行，`ctrl+z`可以 将程序调入后台
- `jobs`查看后台运行程序
- `fg`编号（编号为通过`jobs`查看的编号），将后台运行程序调出到前台

## 关机重启 `reboot、shutdown、init`

|         命令         |                     含义                     |
| :------------------: | :------------------------------------------: |
|       `reboot`       |               重新启动操作系统               |
|  `shutdown -r now`   | 重新启动操作系统，`shutdown`会给别的用户提示 |
|  `shutdown -h now`   |    立刻关机，其中`now`相当于时间为0的状态    |
| `shutdown -h 20：25` |           系统在今天`20：25`会关机           |
|  `shutdown -h +10`   |           系统再过十分钟会自动关机           |
|       `init 0`       |                     关机                     |
|       `init 6`       |                     重启                     |

## 字符界面和图形界面切换

在`redhat`平台下，可通过命令进行切换

```shell
init 3 ： 切换到字符界面
init 5 ： 切换到图形界面
```

通过快捷键切换（适用于大部分平台）

```shell
Ctrl+Alt+F2 切换到字符界面
Ctrl+Alt+F7 切换到图形界面
```

## 检测磁盘空间 `df`

`df`命令用户检测文件系统的磁盘空间占用和空余情况，可以显示所有文件系统对节点和磁盘块的使用情况。

|   选项    |                 含义                 |
| :-------: | :----------------------------------: |
|   `-a`    |    显示所有文件系统的磁盘使用情况    |
|   `-m`    |         以1024字节为单位显示         |
| `-t <fs>` | 显示各指定文件系统的磁盘空间使用情况 |
|   `-T`    |             显示文件系统             |

	## 格式化 `mkfs`

`mkfs`命令相当于`DOS/WINDOWS`系统中的格式化命令，用户创建指定的文件系统

```shell
mkfs [选项] 设备文件名 [blocks]
```

|    选项    |                  含义                  |
| :--------: | :------------------------------------: |
|    `-V`    |              详细显示模式              |
| `-t <.fs>` |    指定文件系统类型，默认值为`ext2`    |
|    `-c`    | 在创建文件系统的同时，进行磁盘坏块检查 |
|  `blocks`  |            文件系统块的大小            |

## 应用软件安装和卸载

在`Linux`系统中，几乎所有的软件均通过`RPM`进行安装、卸载及关机等操作。

```shell
rpm [选项] [软件包名]
```

|   选项    |                  含义                  |
| :-------: | :------------------------------------: |
|   `-i`    |            指定安装的软件包            |
|   `-h`    |    使用`#`显示详细的安装过程和进度     |
|   `-v`    |           显示安装的详细信息           |
|   `-q`    |     查询系统是否已安装指定的软件包     |
|   `-a`    |       查看系统以安装的所有软件包       |
|   `-e`    |               卸载软件包               |
| `-nodeps` | 配合`-e`参数使用，强制卸载不检查依赖项 |
| `-force`  |       强制操作，如强制安装删除等       |

## 查看或配置网卡信息 `ifconfig`

如果，我们只是敲`ifconfig`，它会显示所有网卡的信息

|   显示字段   |                             说明                             |
| :----------: | :----------------------------------------------------------: |
|    `eh0`     |                         网络接口名称                         |
| `Link encap` |                         链路封装协议                         |
|   `Hwaddr`   |                     网络接口的`MAC`地址                      |
| `Inet addr`  |                           `IP`地址                           |
|   `Bcast`    |                           广播地址                           |
|    `Mask`    |                           子网掩码                           |
|     `UP`     |        网络接口状态标识，`UP`已经启用，`DOWN`已经停用        |
| `BROADCAST`  |              广播协议，表示网络接口是否支持广播              |
|  `RUNNING`   |        传播协议，表示网络接口是否已经开始传输分组数据        |
| `MULTICAST`  |              多播协议，表示网络接口是否支持多播              |
| `MTU,Metric` | `MTU`最大传输单位，单位：字节，`Metric`度量值，用于`RIP`建立 |
|  `RX bytes`  |                       接受数据字节统计                       |
|  `TX bytes`  |                       发送数据字节统计                       |

## 测试远程主机连通性 `ping`

- `ping`通过`ICMP`协议向远程主机发送`ECHO_REQUEST`请求，期望主机回复`ECHO_REPLY`消息
- 通过`ping`命令可以检查是否与远程主机建立了`TCP/IP`连接

## 网络路由设置 `route`

`route`可以增加、修改、显示路由信息

```
route [-v] [-A family] add default [gw 默认网关地址] [[dev interface]]
```

## 监控网络状态 `netstat`

`netstat`命令监控网络状态，包括接口设置、``IP`路由、各种网络协议的统计