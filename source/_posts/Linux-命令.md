---
title: Linux 命令
mathjax: true
categories:
  - Linux
	- Linux 命令
tags:
  - 命令
abbrlink: 9da1ef6b
date: 2021-04-27 16:24:09
img: https://cdn.jsdelivr.net/gh/Mug-9/imge-stroage@master/cover/wallhaven-j3xm5w.5ksr13d1i900.png
---

# Linux命令

格式：`命令 选项 参数`

## 通配符

| 通配符  | 含义                                                         |
| ------- | ------------------------------------------------------------ |
| `*`     | 匹配任意多个字符                                             |
| `?`     | 匹配任意一个字符                                             |
| `[]`    | `[`和`]`将字符组扩起来，表示可以匹配字符组中任意一个，`-`用户表示字符范围 |
| `[abc]` | 匹配`a、b、c`中任意一个                                      |
| `[a-z]` | 匹配从`a`到`z`范围内任意一个字符                             |
| `\`     | 转义字符，将通配字符转义成普通字符                           |

## 查看文档

```shell
命令 --help
man 命令
```

## 快捷键

| 快捷键                  | 含义                                                         |
| ----------------------- | ------------------------------------------------------------ |
| `tab`                   | 智能补全，如果没有重复的选项 ，自动补全，如果有重复项，按下两个`tab`，显示列表 |
| :arrow_up: :arrow_down: | 历史记录                                                     |

## 常用命令

| 指令         | 命令         |
| ------------ | ------------ |
| 打开终端     | `ctrl+alt+t` |
| 在终端中锁定 | `ctrl+c`     |
| 清屏         | `ctrl+l`     |

### 查看文件 `ls`

| 指令                             | 命令     |
| -------------------------------- | -------- |
| 查看文件                         | `ls`     |
| 查看隐藏文件                     | `ls -a`  |
| 查看文件详细信息                 | `ls -l`  |
| 配合`-l`以人性化方式显示文件大小 | `ls -lh` |

### 输出重定向

| 指令 | 含义                           |
| ---- | ------------------------------ |
| `>`  | 输出重定西会覆盖原来的内容     |
| `>>` | 输出重定向则会追加到文件的尾部 |

### `man` 功能键

| 功能键  | 功能                 |
| ------- | -------------------- |
| 空格    | 显示手册下一屏       |
| `Enter` | 一次滚动手册页的一行 |
| `b`     | 回滚一屏             |
| `f`     | 前滚一屏             |
| `q`     | 推出`man`命令        |
| `h`     | 列出所有功能键       |
| `/word` | 搜索`word`字符串     |

### 创建目录 `mkdir`

```shell
mkdir 目录名 -p 递归创建
```

通过`mkdir`命令可以创建一个新的目录。参数`-p`可递归创建目录。

### 删除文件 `rm`

```shell
rm 文件
rmdir 删除文件夹
```

`rmkdir` 目录名 目录一定是空的

可通过`rm`删除文件或目录。使用`rm`命令要小心，因为文件删除后不能回恢复。为了放置文件误删，可以在`rm`后使用`-i`参数一逐个确认要删除的文件。

| 参数 | 含义                                             |
| ---- | ------------------------------------------------ |
| `-i` | 已进行交互方式执行                               |
| `-f` | 强制删除，忽略不存在的文件，无需提示             |
| `-r` | 递归地删除目录下的内容，删除文件夹是必需加此参数 |

### 建立链接文件 `ln`

```shell
ln 源文件 链接文件 硬链接
ln -s 源文件 链接文件 软链接
```

软链接文件不占磁盘空间，但是删除源文件会影响软链接文件

硬链接文件站磁盘空间，但是删除源文件不会影响硬链接文件

硬链接和复制的区别，无论你修改了哪一个链接之后的文件，另一个会改变，但拷贝不会

###  文本搜索 `grep`

```
grep [-选项] ’搜索内容串‘ 文件名
```

常见选项

| 选项 | 含义                                     |
| ---- | ---------------------------------------- |
| `-v` | 显示不包括匹配文本的所有行（相当与求反） |
| `-n` | 显示匹配行以及行号                       |
| `-i` | 忽略大小写                               |

`grep`后的搜索规则也可以是正则表达式

| 通配符 | 含义                        |
| ------ | --------------------------- |
| `^a`   | 以`a`为起始的字符搜索文件   |
| `a$`   | 以`a`为结尾的字符搜索文件   |
| `.`    | 匹配任意一个非换行的字符    |
| `*`    | 匹配任意字符（大于0的整数） |

### 计算文件的行数与字数 `wc`

 `````shell
wc [-选项] 文件名
 `````

| 选项 | 含义                                                         |
| ---- | ------------------------------------------------------------ |
| `-l` | 统计行数                                                     |
| `-w` | 统计字数，一个字被定义为有空白、跳格或换行的字符分隔的字符串 |
| `-c` | 统计字节数                                                   |
| `-m` | 统计字符数，这个标志不能与`-c`标识一起使用                   |

### 文件搜索 `find`

在特定目录下搜索符合条件的文件也可以用来搜索特定用户属主的文件

```shell
find 目录 参数 文件名（可以使用通配符）
-name 文件名
-size 大小
-perm 权限
```

常见用法：

| 命令                          | 含义                                   |
| ----------------------------- | -------------------------------------- |
| `find ./ -name test.sh`       | 查找当前目录下所有名为`test.sh`的文件  |
| `find ./ -name '*.sh'`        | 查找当前目录下所有后缀为`.sh`的文件    |
| `find ./ -name "[A-Z]*"`      | 查找当前目录下所有以大写字母开头的文件 |
| `find /tmp -size 2M`          | 查找在`/tmp`目录下等于`2M`的文件       |
| `find /tmp -size +2M`         | 查找在`/tmp`目录下大于`2M`的文件       |
| `find /tmp -size -2M`         | 查找在`/tmp`目录下小于`2M`的文件       |
| `find ./ -size +4k -size -5M` | 查找当前目录下大于`4k`小于`5k`的文件   |
| `find ../ -perm 0777`         | 查找当前目录下权限为`777`的文件或目录  |

###     拷贝 `cp`

`cp`命令的功能是将给出的文件或目录复制到另一个文件或目录中，相当于`DOS`中的`copy`命令。

常见选项

| 选项 | 含义                                                         |
| ---- | ------------------------------------------------------------ |
| `-a` | 该选项通常在复制目录时使用，她保留链接、文件属性，并递归的复制目录，简单而言，保持文件与原有属性。 |
| `-f` | 删除已经存在的目标文件而不提示                               |
| `-i` | 交互式复制，在覆盖目标文件之前将给出提示要求用户确认         |
| `-r` | 若给出的源文件是目录文件，则`cp`将递归复制该目录下的所有子目录或文件，目标文件必须为一个目录名 |
| `-v` | 显示拷贝进度                                                 |

### 移动 `mv`

用户可以使用`mv`命令来移动文件或目录，也可以给文件或目录重命名。

常用选项

| 选项 | 含义                                                         |
| ---- | ------------------------------------------------------------ |
| `-f` | 禁止交互式操作，如有覆盖也不会给出提示                       |
| `-i` | 确认交互方式操作，如果`mv`操作将导致对已存在目标文件的覆盖，系统会询问是否重写，要求用户回答以避免误覆盖文件 |
| `-v` | 显示移动进度                                                 |

### 获取文件类型 `file`

`linux`系统文件类型不是根据文件扩展名分类的，通过`file`命令可以确认文件具体类型。

### 归档管理 `tar`

计算机的数据经常需要备份，`tar`是`Unix/Linux`中最常用的备份工具，此命令可以把一系列文件归档到一个大文件中，也可以把档案文件解开以恢复数据。

```shell
tar [参数] 打包文件名 文件
归档： tar -cvf 归档文件名.tar 文件1 文件2 目录1 目录2
解归档：tar -xvf 归档文件名.tar 路径
```

`tar`命令很特殊，其参数前面可以使用`-`，也可以不使用

### 文件压缩解压

####  `gzip`

- `tar`与`gzip`命令结合使用实现文件打包、压缩。
- `tar`只负责打包文件，但不压缩，用`gzip`压缩`tar`打包后的文件，其扩展名一般用`xxxx.tar.gz`

```shell
gzip [选项] 被压缩文件
压缩： gzip 归档文件名.tar 生成一个文件 归档文件名.tar.gz 文件大小小于归档文件大小[归档文件名.tar] 不存在了
解压缩： gzip -d 归档文件名.tar.gz 生成一个文件 归档文件名.tar
```

```
一步归档压缩：
tar -czvf 文件名.tar.gz 文件1 文件2 目录1 目录2
一步解归档压缩：
tar -xzvf 文件名.tar.gz -C 路径
```

常用选项

| 选项 | 含义           |
| ---- | -------------- |
| `-d` | 解压           |
| `-r` | 压缩所有子目录 |

#### `bzip2`

```
一步归档压缩：
tar -cjvf 文件名.tar.bz2 文件1 文件2 目录1 目录2
一步解归档压缩：
tar -xjvf 文件名.tar.bz2 -C 路径
```

#### `zip,unzip`

```shell
一步归档压缩：
zip [-r] 目标文件（没有扩展名） 源文件
zip 文件名 文件1 文件2 目录1 目录2 生成一个文件为： 文件.zip
一步解归档压缩：
unzip -d 解压后目录文件 压缩文件
unzip 文件名.zip -C 路径
```

### 查看命令位置 `which`

```shell
which ls
```

## 管道

一个命令的输出可以通过管道作为另一个命令的输入。

